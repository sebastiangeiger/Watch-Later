<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Watch Later</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
<script type="text/x-handlebars">
  <header>
    <h1>Watch Later</h1>
    {{#if fullyAuthorized}}
      <button {{action 'deauthorize'}}>Revoke authorization</button>
    {{/if}}
  </header>
  {{outlet}}
</script>

<script type="text/x-handlebars" id="authorize">
  <button {{action "openAuthWindow"}}>Start Auth</button>
  Auth Token: {{input type="text" value=newAuthToken }}
  <button {{action 'authorize' newAuthToken}}>Authorize</button>
</script>

<script type="text/x-handlebars" id="videos">
  <ol id="videos">
    {{#each videos}}
      {{#link-to 'video' this}}
      <li>
        <img {{bind-attr src=thumbnailUrl}}/>
        <span class='description'>{{title}}</span>
      </li>
      {{/link-to}}
    {{/each}}
  </ol>
</script>

<script type="text/x-handlebars" id="components/video-player">
  <div id="dummyTarget"></div>
  <iframe id="youtube-player" frameborder="0" allowfullscreen="1" title="YouTube player" width="640" height="360"></iframe>
</script>

<script type="text/x-handlebars" id="video">
  <aside>
    {{render 'videos'}}
  </aside>
  <section id='video'>
    {{video-player videoId=videoId}}
  </section>
</script>

<script src="bower_components/jquery/dist/jquery.js"></script>
<script src="bower_components/handlebars/handlebars.js"></script>
<script src="bower_components/ember/ember.js"></script>
<script src="config.js"></script>
<script src="application.js"></script>
<script src="https://www.youtube.com/iframe_api"></script>
</body>
</html>
